<!DOCTYPE html> 
<html lang="en"> 
    <head> 
        <title>Proton IoT</title>         
        <meta charset="utf-8"> 
        <meta name="viewport" content="width=device-width, initial-scale=1"> 
        <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css"> 
        <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.1.1/jquery.min.js"></script>         
        <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js"></script>         
        <script src="jQueryAssets/jquery-1.11.1.min.js"></script>         
        <script src="jQueryAssets/jquery.ui-1.10.4.button.min.js"></script>         
        <style>
            /* Set height of the grid so .sidenav can be 100% (adjust as needed) */
            /*.row.content {height: 1080px}*/
            /* Set gray background color and 100% height */
            .sbswell
            {
            display: inline-block;
            padding-left: 10px;
            padding-right: 10px;
            }
            .profilepic
            {
            width: 110px;
            height: 130px;
            float: left;
            padding: 10px 0;
            border-radius: 50%;
            }
            .well2
            {
            background: rgb(0, 69, 173);
            }
            /* On small screens, set height to 'auto' for the grid
            @media screen and (max-width: 1920px) {
            .row.content {height: auto;}
            */
            .box {
            .enjoy-css {
            -webkit-box-sizing: content-box;
            -moz-box-sizing: content-box;
            box-sizing: content-box;
            float: right;
            width: 83%;
            height: 10%;
            padding: 20px;
            overflow: hidden;
            border: 3px double;
            font: normal 57px/1 Arial, Helvetica, sans-serif;
            color: rgba(86,86,86,1);
            text-align: center;
            -o-text-overflow: ellipsis;
            text-overflow: ellipsis;
            background: #ffffff;
            text-shadow: 1px 1px 1px rgba(0,0,0,0.2) ;
            }
            @media (max-width: @screen-xs) {
            body{font-size: 10px;}
            }
            @media (max-width: @screen-sm) {
            body{font-size: 14px;}
            }
            h5{
            font-size: 1.4em;
            } 

</style>         
        <link rel="stylesheet" href="static/font-awesome.min.css"> 
        <link href="static/james.css" rel="stylesheet" type="text/css">
    </head>     
    <body> 
        <div class="container-fluid" id="page">
            <div class="alert topmargin alert-warning">
                <button type="button" class="close" data-dismiss="alert" aria-hidden="true">×</button>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            Proton IoT is protected by the Creative Commons&nbsp;Attribution-NonCommercial-NoDerivatives 4.0 International Licence. This roughly means that if you modify my content in any way, it can be held up in court. Please note that a CC licence has never been held invalid or unenforceable in court. Click the button at the bottom of the page for more information.
            </div>
            <div class="alert alert-danger topmargin">
                <button type="button" class="close" data-dismiss="alert" aria-hidden="true">×</button>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        This is a demo, so nothing will work. For further information email me: 
                <a href="mailto:enquiry@jw.network">enquiry@jw.network</a>
            </div>
            <div class="jumbotron topmargin">
                <h1><b>Proton IoT</b></h1>
                <p>Welcome to Proton IoT Control Panel <span style="color: red;">v0.0.1 Unstable</span>&nbsp;Alpha</p>
            </div>
            <div class="row content">
                <div class="col-sm-12"> 
                    <ul class="nav nav-tabs"> 
                        <li class="active">
                            <a data-toggle="tab" href="#db" style="color: rgb(0, 0, 0);">Dashboard</a>
                        </li>                         
                        <li>
                            <a data-toggle="tab" href="#rs" style="color: rgb(0, 0, 0);">Relays & Switches <b>(OUTPUT)</b></a>
                        </li>                         
                        <li>
                            <a data-toggle="tab" href="#sb" style="color: rgb(0, 0, 0);">Sensors & Buttons <b>(INPUT)</b></a>
                        </li>                         
                        <li>
                            <a data-toggle="tab" href="#weather" style="color: rgb(0, 0, 0);"><span class="glyphicon glyphicon-cloud"></span> Weather</a>
                        </li>                         
                        <li>
                            <a data-toggle="tab" href="#cams" style="color: rgb(0, 0, 0);"><span class="glyphicon glyphicon-facetime-video"></span> Webcams</a>
                        </li>                         
                        <li>
                            <a data-toggle="tab" href="#mqtt" style="color: rgb(0, 0, 0);"><span class="glyphicon glyphicon-cog"></span> MQTT Setup</a>
                        </li>                         
                        <li class="dropdown">
                            <ul class="dropdown-menu"> 
                                <li>
                                    <a href="#">Action</a>
                                </li>                                 

                                <li>
                                    <a href="#">Another action</a>
                                </li>                                 

                                <li class="divider"></li>                                 

                                <li>
                                    <a href="#">Separated link</a>
                                </li>                                 
                            </ul>
                        </li>
                    </ul>                     
                    <div class="tab-content"> 
                        <div id="db" class="tab-pane fade in active"> 
                            <div class="col-md-3"> 
                                <div class="well-lg"> 
                                    <h2>Profile</h2>
                                    <div class="well">
                                        <a href="">
                                            <img src="avatars\dedoid.jpg" width="150" height="150" class="img-thumbnail img-responsive">
                                        </a>
                                        <h2>Welcome, James<br></h2>
                                        <h4><b>Full name:</b> James W</h4>
                                        <h4><b>Clearance Level:</b> 99</h4>
                                        <h4><b>Other:</b> Maker of the Proton IoT System</h4>
                                    </div>                                     
                                </div>                                 
                            </div>                             
                            <div class="col-md-9"> 
                                <div class="well-lg"> 
                                    <h2>Lights</h2>
                                    <div class="well visible-lg-inline-block visible-md-inline-block visible-xs-block visible-sm-inline-block col-md-4">
                                        <h2>Bedroom 1</h2>
                                        <div class="btn-group"> 
                                            <a class="btn btn-success" onclick="alert('On')">On</a> 
                                            <a class="btn rainbowcolor" onclick="alert('This will eventually have a colour picker thing on it')">RGB</a>
                                            <a class="btn btn-danger" onclick="alert('Off')">Off</a>
                                        </div>
                                    </div>
                                    <div class="well col-md-offset-1 visible-xs-block visible-md-inline-block visible-lg-inline-block visible-sm-inline-block col-md-4">
                                        <h2>Bedroom 2</h2>
                                        <div class="btn-group"> 
                                            <a class="btn btn-success" onclick="alert('On')">On</a> 
                                            <a class="btn rainbowcolor" onclick="alert('This will eventually have a colour picker thing on it')">RGB</a>
                                            <a class="btn btn-danger" onclick="alert('Off')">Off</a>
                                        </div>
                                    </div>
                                    <div class="well visible-lg-inline-block visible-md-inline-block visible-sm-block visible-xs-block col-md-4 col-md-offset-0">
                                        <h2>Front Room</h2>
                                        <div class="btn-group"> 
                                            <a class="btn btn-success" onclick="alert('On')">On</a> 
                                            <a class="btn rainbowcolor" onclick="alert('This will eventually have a colour picker thing on it')">RGB</a>
                                            <a class="btn btn-danger" onclick="alert('Off')">Off</a>
                                        </div>
                                    </div>
                                    <div class="well visible-xs-block visible-md-inline-block visible-lg-inline-block visible-sm-inline-block col-md-4 col-md-offset-1">
                                        <h2>Kitchen</h2>
                                        <div class="btn-group"> 
                                            <a class="btn btn-success" onclick="alert('On')">On</a> 
                                            <a class="btn rainbowcolor" onclick="alert('This will eventually have a colour picker thing on it')">RGB</a>
                                            <a class="btn btn-danger" onclick="alert('Off')">Off</a>
                                        </div>
                                    </div>
                                    <div class="well visible-xs-block visible-md-inline-block visible-lg-inline-block visible-sm-inline-block col-md-4 col-md-offset-0">
                                        <h2>Lean-to</h2>
                                        <div class="btn-group"> 
                                            <a class="btn btn-success" onclick="alert('On')">On</a> 
                                            <a class="btn btn-danger" onclick="alert('Off')">Off</a>
                                        </div>
                                    </div>
                                </div>                                 
                            </div>                             
                        </div>                         
                        <div id="rs" class="tab-pane fade"> 
                            <div class="col-md-2"> 
                                <div class="well-lg" id="col1r1"> 
                                    <h3>1</h3> 
                                    <div class="well visible-lg-inline-block visible-md-inline-block visible-sm-block visible-xs-block" id="col1r1well"> 
                                        <h1>RELAY 1</h1> 
                                        <button type="button" class="btn btn-sm btn-success" id="successcol1r1">ON</button>                                         
                                        <button type="button" class="btn btn-sm btn-danger" id="dangercol1r1">OFF</button>                                         
                                    </div>                                     
                                </div>                                 
                            </div>                             
                            <div class="col-md-2"> 
                                <div class="well-lg" id="col2r1"> 
                                    <h3>2</h3> 
                                    <div class="well visible-xs-block visible-sm-block visible-md-inline-block visible-lg-inline-block" id="col2r1well"> 
                                        <h1>RELAY 2</h1> 
                                        <button type="button" class="btn btn-sm btn-success" id="successcol2r1">ON</button>                                         
                                        <button type="button" class="btn btn-sm btn-danger" id="dangercol2r1">OFF</button>                                         
                                    </div>                                     
                                </div>                                 
                            </div>                             
                            <div class="col-md-2"> 
                                <div class="well-lg" id="col3r1"> 
                                    <h3>3</h3> 
                                    <div class="well visible-xs-block visible-sm-block visible-md-inline-block visible-lg-inline-block" id="col3r1well"> 
                                        <h1>RELAY 3</h1> 
                                        <button type="button" class="btn btn-sm btn-success" id="successcol3r1">ON</button>                                         
                                        <button type="button" class="btn btn-sm btn-danger" id="dangercol3r1">OFF</button>                                         
                                    </div>                                     
                                </div>                                 
                            </div>                             
                            <div class="col-md-2"> 
                                <div class="well-lg" id="col4r1"> 
                                    <h3>4</h3> 
                                    <div class="well visible-xs-block visible-sm-block visible-md-inline-block visible-lg-inline-block" id="col4r1well"> 
                                        <h1>RELAY 4</h1> 
                                        <button type="button" class="btn btn-sm btn-success" id="successcol4r1">ON</button>                                         
                                        <button type="button" class="btn btn-sm btn-danger" id="dangercol4r1">OFF</button>                                         
                                    </div>                                     
                                </div>                                 
                            </div>                             
                            <div class="col-md-4"> 
                                <div class="well-lg" id="col5r1"> 
                                    <h3>5</h3> 
                                    <div class="well" id="col5r1well"> 
                                        <div class="media"> 
                                            <div class="media-left"> 
</div>                                             
                                            <div class="media-body"> 
                                                <h2 class="media-heading">James Controller</h2> 
                                                <!-- CHANGE THIS TO THE WISHED THING TO PUT HERE USE INSTEAD OF CUSTOM CSS CLASS UP THERE ^) -->                                                 
                                                <h3>I don't know?</h3> 
                                            </div>                                             
                                        </div>                                         
                                    </div>                                     
                                </div>                                 
                            </div>                             
                        </div>                         
                        <div id="sb" class="tab-pane fade"> 
                            <h1>Sensors & Buttons</h1> 
                            <h3>Sensor Data Here.</h3> 
                            <div class="col-md-2"> 
                                <div class="well-lg" id="col1r1sb"> 
                                    <h3>1</h3> 
                                    <div class="well visible-lg-inline-block visible-md-inline-block visible-sm-block visible-xs-block" id="col1r1wellsb"> 
                                        <h3 id="doorstatus1" class="visible-sm-block visible-xs-block visible-md-inline-block visible-lg-inline-block">Door: N/A</h3> 
                                    </div>                                     
                                </div>                                 
                            </div>                             
                        </div>                         
                        <div id="weather" class="tab-pane fade"> 
                            <h1>Weather</h1> 
                            <span class="span-8"> <h3 id="weatherpara"></h3> </span> 
                            <span class="span4"> <img src="" class="img-circle" alt="WEATHER ICON" id="weatherico"> </span> 
                            <table class="table table-condensed"> 
                                <thead> 
                                    <tr> 
                                        <th><h3>Type</h3></th> 
                                        <th><h3>Value</h3></th> 
                                    </tr>                                     
                                </thead>                                 
                                <tbody id="weathertbody"> 
</tbody>                                 
                            </table>                             
                        </div>                         
                        <div id="cams" class="tab-pane fade"> 
                            <h1>Webcams</h1>
                            <div class="well-lg"> 
                                <h2>1</h2>
                                <div class="well visible-lg-inline-block visible-md-inline-block visible-sm-inline-block visible-xs-inline-block">
                                    <iframe width="480" height="270" src="http://www.ustream.tv/embed/1041782?html5ui" scrolling="no" allowfullscreen webkitallowfullscreen frameborder="0" style="border: 0 none transparent;"></iframe>
                                </div>                                 
                            </div>
                        </div>                         
                        <div id="mqtt" class="tab-pane fade"> 
                            <h1>MQTT Panel</h1> 
                            <h3>Settings, etc. for MQTT.</h3> 
                            <pre>MQTT Log: <br>-test<br>-test</pre> 
                        </div>                         
                        <div class="tab-pane">
                            <p>Tab content goes here...</p>
                        </div>
                        <div class="tab-pane">
                            <p>Tab content goes here...</p>
                        </div>
                    </div>                     
                </div>                 
            </div>
            <a rel="license" href="http://creativecommons.org/licenses/by-nc-nd/4.0/">
                <img alt="Creative Commons Licence" style="border-width:0" src="https://i.creativecommons.org/l/by-nc-nd/4.0/88x31.png" class="bottommargin" />
            </a>
        </div>         
    </body>     
    <script src="https://cdnjs.cloudflare.com/ajax/libs/paho-mqtt/1.0.1/mqttws31.min.js" type="text/javascript"></script>     
    <script>
  $(document).ready(function() {
    //$("#col2r1").load("bootstrapback.html #col2r1well");
    //$("#col2r1").text("Relay 2");
    //$("#col1r1well").clone().children().children().appendTo("#col2r1well");
    //$("#col2r1well").filter("h1").html("<h1>Teapot</h1>")
    //$("#col1r1well").clone().appendTo("#col3r1well");
    //$("#col2r1well > #success").append().text("ON\t");
    //$("#col2r1well > h1").text("Relay 2");
    //$("#col1r1well").clone().appendTo("#col1r2well");
    //$("#col1r2well > #h3").text("Relay 4");
    //$("#col1r1well").clone().appendTo("#col2r2well");
    //$("#col1r1").children().clone().appendTo("#col2r1well");
    //$("#col1r1").children().children().append(" ");
    //$("#col1r1well > h3").text("Relay 2");
    //$("#").children().fadeTo(0, 0);
    var weatherurl = "http://api.wunderground.com/api/fb5640bb9b0a372f/conditions/q/UK/London.json";
    $.ajax({
      url: weatherurl,
      dataType: "jsonp",
      success: function (parsed_json) {
        //var location = parsed_json['observation_location']['city'];
        var temp = parsed_json['current_observation']['temp_c'];
        var area = parsed_json['current_observation']['display_location']['full'];
        var wind = parsed_json['current_observation']['wind_string'];
        var dewpoint = parsed_json['current_observation']['dewpoint_c'];
        var weathertype = parsed_json['current_observation']['weather'];
        var icon = parsed_json['current_observation']['icon_url'];
        //$(document).append().html("<h3>The weather today is " + temp + " degrees celcius.");
        $("#weatherpara").append("<h3>The weather today is " + temp + " degrees celcius in " + area + ".</h3>");
        $("#weathertbody").append("<tr id='weathertr'></tr>");
        $("#weathertr").append("<h3>Temp</h3>");
        $("#weathertr").append("<th><h3>" + temp + "°C</h3></th>");
        $("#weathertbody").append("<tr id='weathertr2'></tr>");
        $("#weathertr2").append("<h3>Wind</h3>");
        $("#weathertr2").append("<th><h3>" + wind + "</h3></th>");
        $("#weathertbody").append("<tr id='weathertr3'></tr>");
        $("#weathertr3").append("<h3>Can Dew Form?</h3>");
        //$("#weathertr3").append("<th><h3>"+ dewpoint +"</h3></th>");
        if (dewpoint >= temp) {
          $("#weathertr3").append("<th><h3>Yes</h3></th>");
        }
        else {
          $("#weathertr3").append("<th><h3>No</h3></th>");
        }
        $("#weathertbody").append("<tr id='weathertr4'></tr>");
        $("#weathertr4").append("<h3>Weather</h3>");
        $("#weathertr4").append("<th><h3>" + weathertype + "</h3></th>");
        $("#weatherico").attr("src", icon);
      }
    });
    function nodepub(node, val) {
      $.ajax({
        url: "node"+node+".php?val="+val+"",
        type: "GET"
      });
    };

    $("#successcol1r1").click(function(){
      nodepub("1", "OBon");
    });
    $("#dangercol1r1").click(function(){
      nodepub("1", "OBoff");
    });

  });
  window.setInterval(function() {
    $.ajax({
      url: "node1.php",
      type: "GET",
      data: {set: "teapot"},
      success: function(data){
        $("#doorstatus1").text("Door: "+data);
      }
    });
  }, 5000);
</script>     
</html>
